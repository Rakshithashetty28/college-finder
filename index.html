<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CollegeSeek</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
body{background:linear-gradient(180deg,#f4f6fb,#eef2ff);color:#333}

/* NAVBAR */
.navbar{position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:center;padding:15px 50px;background:linear-gradient(90deg,#1e3c72,#2a5298);color:#fff}
.logo{font-size:26px;font-weight:700}
.menu{display:flex;gap:25px;list-style:none}
.menu li{cursor:pointer;opacity:.9;transition:.3s}
.menu li:hover{opacity:1;transform:translateY(-2px)}
.toggle{cursor:pointer;font-size:14px}

/* HERO */
.hero{height:85vh;background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),url("https://images.unsplash.com/photo-1562774053-701939374585");background-size:cover;background-position:center;display:flex;align-items:center;padding:70px;color:#fff}
.hero-content{max-width:700px;background:rgba(255,255,255,.08);backdrop-filter:blur(10px);padding:35px;border-radius:22px;animation:slideUp 1s ease}
.hero h1{font-size:52px;margin-bottom:20px}
.hero h1 span{color:#ffd000}
.hero p{font-size:18px;margin-bottom:30px;opacity:.9}

/* SEARCH */
.search-box{display:flex;gap:10px;background:#fff;border-radius:14px;padding:10px;box-shadow:0 15px 40px rgba(0,0,0,.25)}
.search-box input{flex:1;padding:14px;border:none;outline:none;font-size:16px}
.search-box button{padding:14px 24px;border:none;background:linear-gradient(90deg,#ffd000,#ffb700);font-weight:bold;cursor:pointer;border-radius:10px}

/* SECTIONS */
.section{padding:70px 60px}
.section h2{text-align:center;font-size:34px;margin-bottom:45px;color:#1e3c72}

/* GRID */
.college-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:35px}

/* CARD */
.college-card{background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 15px 35px rgba(0,0,0,.12);transition:.4s;position:relative}
.college-card:hover{transform:translateY(-10px) scale(1.02)}
.college-card img{width:100%;height:190px;object-fit:cover}
.college-card h3{padding:16px;color:#1e3c72;font-size:20px}
.college-card p{padding:0 16px 10px;font-size:14px}

.badge{position:absolute;top:15px;left:15px;background:#ffd000;color:#000;font-size:12px;font-weight:600;padding:5px 10px;border-radius:20px}

.card-actions{display:flex;justify-content:space-between;padding:12px 16px 18px}
.card-actions a{text-decoration:none;font-size:13px;font-weight:600;color:#1e3c72}

mark{background:#ffd000;padding:2px 6px;border-radius:6px}

footer{background:linear-gradient(90deg,#1e3c72,#2a5298);color:#fff;text-align:center;padding:25px}

@keyframes slideUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}

@media(max-width:768px){.hero h1{font-size:38px}.hero{padding:40px}.section{padding:50px 25px}}
</style>
</head>

<body>

<nav class="navbar">
  <div class="toggle" onclick="document.body.classList.toggle('dark')">ðŸŒ™ Dark</div>
  <div class="logo">CollegeSeek</div>
  <ul class="menu">
    <li>B.Tech</li><li>M.Tech</li><li>MBA</li><li>BCA</li>
  </ul>
</nav>

<section class="hero">
  <div class="hero-content">
    <h1>Find the <span>Best Colleges</span><br>By Course in India</h1>
    <p>Search colleges, compare courses, explore locations and contacts.</p>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Search college, course or location" oninput="searchCollege()">
      <button onclick="clearSearch()">Clear</button>
    </div>
  </div>
</section>

<section class="section" id="searchSection" style="display:none">
  <h2>Search Results</h2>
  <div class="college-grid" id="results"></div>
</section>

<section class="section">
  <h2>Top Colleges in India</h2>
  <div class="college-grid" id="topColleges"></div>
</section>

<footer>Â© 2025 CollegeSeek â€¢ Find your future college</footer>

<script>
let allColleges = [];

async function loadColleges(){
  const res = await fetch('http://localhost:3000/colleges');
  allColleges = await res.json();
  displayTopColleges(allColleges);
}

function highlight(text,query){
  if(!query) return text;
  return text.replace(new RegExp(`(${query})`,'gi'),'<mark>$1</mark>');
}

function displayTopColleges(colleges){
  const div = document.getElementById('topColleges');
  div.innerHTML = '';
  colleges.slice(0,6).forEach(c=>{
    div.innerHTML += `
    <div class="college-card">
      <span class="badge">Top</span>
      ${c.image?`<img src="${c.image}">`:''}
      <h3>${c.name}</h3>
      <p><b>Course:</b> ${c.course}</p>
      <p><b>Location:</b> ${c.location}</p>
      <p><b>Contact:</b> ${c.contact}</p>
      <div class="card-actions">
        <a href="#" onclick='openCollege(${JSON.stringify(c)})'>View Details</a>
        <a target="_blank" href="https://www.google.com/maps/search/${encodeURIComponent(c.name)}">Map</a>
      </div>
    </div>`;
  });
}

function searchCollege(){
  const input = searchInput.value.toLowerCase();
  const section = document.getElementById('searchSection');
  const results = document.getElementById('results');

  if(!input){section.style.display='none';return}

  section.style.display='block';
  results.innerHTML='';

  const filtered = allColleges.filter(c=>
    c.name.toLowerCase().includes(input) ||
    c.course.toLowerCase().includes(input) ||
    c.location.toLowerCase().includes(input)
  );

  if(!filtered.length){results.innerHTML='<p>No results found</p>';return}

  filtered.forEach(c=>{
    results.innerHTML += `
    <div class="college-card">
      <span class="badge">Top</span>
      ${c.image?`<img src="${c.image}">`:''}
      <h3>${highlight(c.name,input)}</h3>
      <p><b>Course:</b> ${highlight(c.course,input)}</p>
      <p><b>Location:</b> ${highlight(c.location,input)}</p>
      <p><b>Contact:</b> ${c.contact}</p>
      <div class="card-actions">
        <a href="#" onclick='openCollege(${JSON.stringify(c)})'>View Details</a>
        <a target="_blank" href="https://www.google.com/maps/search/${encodeURIComponent(c.name)}">Map</a>
      </div>
    </div>`;
  });
}

function openCollege(college){
  localStorage.setItem('selectedCollege',JSON.stringify(college));
  window.location.href='college.html';
}

function clearSearch(){
  searchInput.value='';
  searchSection.style.display='none';
}

searchInput.addEventListener('keydown',e=>{
  if(e.key==='Enter'){
    e.preventDefault();
    searchCollege();
    setTimeout(()=>{
      const first=document.querySelector('#results .college-card');
      if(first) first.scrollIntoView({behavior:'smooth'});
    },150);
  }
});

window.onload = loadColleges;
</script>

</body>
</html>
